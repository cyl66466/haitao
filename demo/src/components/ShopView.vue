<template>
	
	<div>
		<div>
	        <!-- 头部区域 -->
	       <header class="mui-bar mui-bar-nav" id="header">
	            <!-- <a class="btn" href="javascript:history.go(-1)" v-show="fanhui">
	                <i class="iconfont icon-fanhui"></i>
	            </a> -->
	            <h4>购物车</h4>
	            <!-- <a class="btn" href="#" v-show="erweima">
	                <i class="iconfont icon-erweima"></i>
	            </a> -->
	        </header>

   		</div>
		<div class="warp warptwo clearfloat">
	    	<div class="shopcar clearfloat">
	    		<div class="list clearfloat fl">
	    			<div class="xuan clearfloat fl">
	    				<div class="radio" > 
						    <label>
						        <input type="checkbox" name="sex" value="" />
						    </label>
						</div>
	    			</div>
	    			<a href="javascript:void(0)">
		    			<div class="tu clearfloat fl">
		    				<span></span>
		    				<img src="../assets/images/shop1.jpg"/>
		    			</div>
		    			<div class="right clearfloat fl">
		    				<p class="tit over">利仁(Liven),给你极致的美味</p>
		    				<p class="fu-tit over">颜色：橙色&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;容量：4L</p>
		    				<span class="rmb">￥</span>
		    				<span class="jifen over">200</span>
		    				<div class="bottom clearfloat">
		    					<div class="zuo clearfloat fl">
		    						<ul>
		    							<li><img src="../assets/images/jian.jpg"/></li>
		    							<li>1</li>
		    							<li><img src="../assets/images/jia.jpg"/></li>
		    						</ul>
		    					</div>
		    					<i class="iconfont icon-lajixiang fr"></i>
		    				</div>
		    			</div>
	    			</a>
	    		</div>
	    		<div class="list clearfloat fl">
	    			<div class="xuan clearfloat fl">
	    				<div class="radio" > 
						    <label>
						        <input type="checkbox" name="sex" value="" />
						    </label>
						</div>
	    			</div>
	    			<a href="javascript:void(0)">
		    			<div class="tu clearfloat fl">
		    				<span></span>
		    				<img src="../assets/images/shop2.jpg"/>
		    			</div>
		    			<div class="right clearfloat fl">
		    				<p class="tit over">中粮海外直采，停不下这</p>
		    				<p class="fu-tit over">口味：草莓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;重量：256g</p>
		    				<span class="rmb">￥</span>
		    				<span class="jifen over">40</span>
		    				<div class="bottom clearfloat">
		    					<div class="zuo clearfloat fl">
		    						<ul>
		    							<li><img src="../assets/images/jian.jpg"/></li>
		    							<li>1</li>
		    							<li><img src="../assets/images/jia.jpg"/></li>
		    						</ul>
		    					</div>
		    					<i class="iconfont icon-lajixiang fr"></i>
		    				</div>
		    			</div>
	    			</a>
	    		</div>
	    		<div class="list clearfloat fl">
	    			<div class="xuan clearfloat fl">
	    				<div class="radio" > 
						    <label>
						        <input type="checkbox" name="sex" value="" />
						    </label>
						</div>
	    			</div>
	    			<a href="javascript:void(0)">
		    			<div class="tu clearfloat fl">
		    				<span></span>
		    				<img src="../assets/images/shop3.jpg"/>
		    			</div>
		    			<div class="right clearfloat fl">
		    				<p class="tit over">RIO鸡尾酒</p>
		    				<p class="fu-tit over">口味：原味&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;重量：250ml</p>
		    				<span class="rmb">￥</span>
		    				<span class="jifen over">12</span>
		    				<div class="bottom clearfloat">
		    					<div class="zuo clearfloat fl">
		    						<ul>
		    							<li><img src="../assets/images/jian.jpg"/></li>
		    							<li>1</li>
		    							<li><img src="../assets/images/jia.jpg"/></li>
		    						</ul>
		    					</div>
		    					<i class="iconfont icon-lajixiang fr"></i>
		    				</div>
		    			</div>
	    			</a>
	    		</div>
	    		<div class="list clearfloat fl">
	    			<div class="xuan clearfloat fl">
	    				<div class="radio" > 
						    <label>
						        <input type="checkbox" name="sex" value="" />
						    </label>
						</div>
	    			</div>
	    			<a href="javascript:void(0)">
		    			<div class="tu clearfloat fl">
		    				<span></span>
		    				<img src="../assets/images/shop4.jpg"/>
		    			</div>
		    			<div class="right clearfloat fl">
		    				<p class="tit over">进口法国红酒fd</p>
		    				<p class="fu-tit over">产地：法国&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;容量：500ml</p>
		    				<span class="rmb">￥</span>
		    				<span class="jifen over">666</span>
		    				<div class="bottom clearfloat">
		    					<div class="zuo clearfloat fl">
		    						<ul>
		    							<li><img src="../assets/images/jian.jpg"/></li>
		    							<li>1</li>
		    							<li><img src="../assets/images/jia.jpg"/></li>
		    						</ul>
		    					</div>
		    					<i class="iconfont icon-lajixiang fr"></i>
		    				</div>
		    			</div>
	    			</a>
	    		</div>
	    		<div class="list clearfloat fl">
	    			<div class="xuan clearfloat fl">
	    				<div class="radio" > 
						    <label>
						        <input type="checkbox" name="sex" value="" />
						    </label>
						</div>
	    			</div>
	    			<a href="javascript:void(0)">
		    			<div class="tu clearfloat fl">
		    				<span></span>
		    				<img src="../assets/images/shop5.jpg"/>
		    			</div>
		    			<div class="right clearfloat fl">
		    				<p class="tit over">丝蕴,关爱你的肌肤</p>
		    				<p class="fu-tit over">产地：韩国&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;容量：300ml</p>
		    				<span class="rmb">￥</span>
		    				<span class="jifen over">100</span>
		    				<div class="bottom clearfloat">
		    					<div class="zuo clearfloat fl">
		    						<ul>
		    							<li><img src="../assets/images/jian.jpg"/></li>
		    							<li>1</li>
		    							<li><img src="../assets/images/jia.jpg"/></li>
		    						</ul>
		    					</div>
		    					<i class="iconfont icon-lajixiang fr"></i>
		    				</div>
		    			</div>
	    			</a>
	    		</div>
	    	</div>
	    </div>
	    
	    <!--settlement star-->
	    <div class="settlement clearfloat">
	    	<div class="zuo clearfloat fl box-s">
	    		合计：<span></span>
	    	</div>
	    	<a href="confirm.html" class="fl db">
	    		立即结算
	    	</a>
	    </div>
	</div>

</template>
<script>
	import '../assets/sourse/layer/mobile/layer.js';
export default{
	mounted:function(){
		this.shop();
	},
	methods:{

		shop(){

			$('input[type="checkbox"]').click(function() { // 找到勾选按钮，绑定事件
				tatol();
			});
			$('.list ul img').click(function() { // 找到加减按钮，绑定点击事件
				var val = $(this).parent().parent().children().eq(1);
				if ($(this).parent().index()) {
					val.html(parseInt(val.html()) + 1);
				} else {
					val.html(val.html() > 1 ? parseInt(val.html()) - 1 : 1);
				}
				tatol();
			});
			$('.icon-lajixiang').click(function() { // 找到删除按钮，绑定点击事件
				var self = this;
				layer.open({
	                content: '确定删除？',
	                btn: ['确定', '取消'],
	                yes: function(index) {
	                    $(self).parent().parent().parent().parent().remove();
	                    layer.closeAll();
	                    tatol();
	                }
	            });
			});
			var tatol = function() { // 计算总积分
				var count = 0;
				$('.list').map(function(index, item) {
					var $el = $(item);
					if ($el.find('input[type="checkbox"]').is(":checked")) {
						count += parseFloat($el.find('.jifen').html()) * parseInt($el.find('.zuo li').eq(1).html());
					}
				});
				if (count > 0) {
					$('.settlement span').html("￥ "+count);
				}
			}
		}

	}
}
</script>
<style>

@import '../assets/css/shopcar.css';
@import '../assets/sourse/layer/mobile/need/layer.css';

</style>